{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["class StickyHeader {\n  constructor(headerSelector, scrollThreshold = 180) {\n    this.header = document.querySelector(headerSelector);\n    this.scrollThreshold = scrollThreshold;\n    this.ticking = false;\n\n    if (!this.header) {\n      console.error(\n        `Header element with selector '${headerSelector}' not found.`\n      );\n      return;\n    }\n\n    // Pre-calculate styles for performance\n    this.headerHeight = this.header.offsetHeight;\n\n    this._handleScroll = this._handleScroll.bind(this);\n    this._init();\n  }\n\n  _init() {\n    // Set initial state\n    this._applyInitialState();\n\n    // Use passive event listener for better performance\n    window.addEventListener(\"scroll\", this._handleScroll, { passive: true });\n\n    // Handle resize events\n    this._handleResize = this._debounce(() => {\n      this.headerHeight = this.header.offsetHeight;\n      this._handleScroll();\n    }, 250);\n\n    window.addEventListener(\"resize\", this._handleResize);\n  }\n\n  _handleScroll() {\n    if (!this.ticking) {\n      requestAnimationFrame(() => {\n        this._updateHeaderState();\n        this.ticking = false;\n      });\n      this.ticking = true;\n    }\n  }\n\n  _updateHeaderState() {\n    const isSticky = this.header.classList.contains(\"sticky\");\n    const shouldBeSticky = window.scrollY > this.scrollThreshold;\n\n    if (shouldBeSticky && !isSticky) {\n      this.header.classList.add(\"sticky\");\n    } else if (!shouldBeSticky && isSticky) {\n      this.header.classList.remove(\"sticky\");\n    }\n  }\n\n  _applyInitialState() {\n    requestAnimationFrame(() => {\n      if (window.scrollY >= this.scrollThreshold) {\n        this.header.classList.add(\"sticky\");\n      }\n    });\n  }\n\n  _debounce(func, wait) {\n    let timeout;\n    return function executedFunction(...args) {\n      const later = () => {\n        clearTimeout(timeout);\n        func(...args);\n      };\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  destroy() {\n    window.removeEventListener(\"scroll\", this._handleScroll);\n    window.removeEventListener(\"resize\", this._handleResize);\n    this.header.style.willChange = \"\";\n    this.header.classList.remove(\"sticky\");\n  }\n}\n\nclass TestimonialCarousel {\n  constructor(autoplayInterval = 3000) {\n    this.leftArrow = document.querySelector(\".testimonial__arrow--left\");\n    this.rightArrow = document.querySelector(\".testimonial__arrow--right\");\n    this.testimonialItems = document.querySelectorAll(\n      \".testimonial__track__item\"\n    );\n    this.testimonialItemsImage = document.querySelectorAll(\n      \".testimonial__track__item-image\"\n    );\n    this.testimonialTexts = document.querySelectorAll(\".testimonial__text\");\n    this.currentIndex = 0;\n    this.autoplayInterval = autoplayInterval;\n    this.autoplay = null;\n\n    if (\n      !this.leftArrow ||\n      !this.rightArrow ||\n      this.testimonialItems.length === 0 ||\n      this.testimonialItemsImage.length === 0 ||\n      this.testimonialTexts.length === 0 ||\n      this.testimonialItems.length !== this.testimonialItemsImage.length ||\n      this.testimonialItems.length !== this.testimonialTexts.length\n    ) {\n      console.error(\n        \"Error initializing Testimonial Carousel. Check your HTML structure and class names.\"\n      );\n      return;\n    }\n\n    this._updateActiveItem(this.currentIndex);\n    this._updateActiveText(this.currentIndex);\n    this._setupEventListeners();\n    this._startAutoplay();\n  }\n\n  _updateActiveItem(index) {\n    this.testimonialItems.forEach((item) =>\n      item.classList.remove(\"testimonial__track__item--active\")\n    );\n    this.testimonialItemsImage.forEach((item) =>\n      item.classList.remove(\"testimonial__track__item-image--active\")\n    );\n\n    this.testimonialItems[index].classList.add(\n      \"testimonial__track__item--active\"\n    );\n    this.testimonialItemsImage[index].classList.add(\n      \"testimonial__track__item-image--active\"\n    );\n  }\n\n  _updateActiveText(index) {\n    this.testimonialTexts.forEach((text) =>\n      text.classList.remove(\"testimonial__text--active\")\n    );\n    this.testimonialTexts[index].classList.add(\"testimonial__text--active\");\n  }\n\n  nextTestimonial() {\n    this.currentIndex = (this.currentIndex + 1) % this.testimonialItems.length;\n    this._updateActiveItem(this.currentIndex);\n    this._updateActiveText(this.currentIndex);\n  }\n\n  previousTestimonial() {\n    this.currentIndex =\n      (this.currentIndex - 1 + this.testimonialItems.length) %\n      this.testimonialItems.length;\n    this._updateActiveItem(this.currentIndex);\n    this._updateActiveText(this.currentIndex);\n  }\n\n  _setupEventListeners() {\n    this.leftArrow.addEventListener(\"click\", () => this.previousTestimonial());\n    this.rightArrow.addEventListener(\"click\", () => this.nextTestimonial());\n\n    this.testimonialItems.forEach((item) => {\n      item.addEventListener(\"mouseover\", () => this._pauseAutoplay());\n      item.addEventListener(\"mouseout\", () => this._startAutoplay());\n    });\n  }\n\n  _startAutoplay() {\n    if (!this.autoplay) {\n      this.autoplay = setInterval(\n        () => this.nextTestimonial(),\n        this.autoplayInterval\n      );\n    }\n  }\n\n  _pauseAutoplay() {\n    clearInterval(this.autoplay);\n    this.autoplay = null;\n  }\n\n  destroy() {\n    this._pauseAutoplay();\n    this.leftArrow.removeEventListener(\"click\", () =>\n      this.previousTestimonial()\n    );\n    this.rightArrow.removeEventListener(\"click\", () => this.nextTestimonial());\n    this.testimonialItems.forEach((item) => {\n      item.removeEventListener(\"mouseover\", () => this._pauseAutoplay());\n      item.removeEventListener(\"mouseout\", () => this._startAutoplay());\n    });\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const headerSection = new StickyHeader(\"header.section\", 400);\n  const testimonialCarousel = new TestimonialCarousel();\n});\n"],"file":"main.js"}